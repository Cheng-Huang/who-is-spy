# 谁是卧底 (Who is the Spy)

这是一个基于 Web 的现代化“谁是卧底”聚会游戏。专为线下聚会设计，支持手机浏览器访问，无需下载 APP，即开即玩。

## ✨ 功能亮点

*   **灵活人数**：支持 3-20 人同局游戏，自动调整卧底数量。
*   **海量词库**：内置 **2000+** 组精选词汇，涵盖美食、生活、地理、影视等多个领域。
*   **智能配图**：所有词汇均配备高质量参考图片，增加游戏趣味性。
*   **词汇优化**：
    *   **拒绝歧义**：所有单字词已优化为多字词（如“猫”->“小猫”）。
    *   **难度适中**：精心调整了词汇相似度，既有“生病 vs 怀孕”这样的趣味对比，也有“夏天 vs 桑拿”这样的脑洞关联。
*   **白板模式**：5 人及以上局支持“白板”角色（无词语），增加推理难度。
*   **进度追踪**：自动记录已玩过的词汇，避免重复，支持一键重置。
*   **极致体验**：
    *   **Tailwind CSS v4** 打造的精美 UI，支持深色模式风格。
    *   **流畅动画**：卡片翻转、身份揭晓等环节均有丝滑的过渡动画。
    *   **防偷窥设计**：传递手机时自动隐藏身份信息。

## 🛠️ 技术栈

本项目使用最新的前端技术构建：

*   **核心框架**: [React 19](https://react.dev/)
*   **构建工具**: [Vite](https://vitejs.dev/)
*   **样式库**: [Tailwind CSS v4](https://tailwindcss.com/)
*   **图标库**: [Lucide React](https://lucide.dev/)
*   **HTTP 请求**: Axios (用于图片脚本)

## 🚀 快速开始

### 环境要求

*   Node.js (推荐 v18 或更高版本)

### 安装与运行

1.  **克隆/下载项目**
    ```bash
    git clone <repository-url>
    cd <project-directory>
    ```

2.  **安装依赖**
    ```bash
    npm install
    ```

3.  **启动开发服务器**
    ```bash
    npm run dev
    ```
    打开浏览器访问 `http://localhost:5173` (或控制台显示的地址)。

4.  **构建生产版本**
    ```bash
    npm run build
    ```

## 🌐 部署与访问

想要让朋友通过手机访问？请查看详细的 [部署指南 (DEPLOY.md)](./DEPLOY.md)，里面包含了：
*   **Vercel 部署**（推荐）：永久免费的外网访问地址。
*   **局域网访问**：同一 WiFi 下的快速联机。
*   **内网穿透**：临时外网访问方案。

## 📂 项目结构

*   `src/`
    *   `components/`: UI 组件 (SetupScreen, RoleReveal, GamePhase, WordCard 等)
    *   `data/`: 词汇数据 (`vocabulary.json`, `wordList.js`)
    *   `utils/`: 工具函数 (`WordManager.js`)
    *   `App.jsx`: 主应用逻辑
*   `scripts/`
    *   `fetchImages.js`: 自动化图片下载脚本 (使用 Bing Image Search)
*   `public/images/vocab/`: 存放下载的词汇图片

## 🎮 游戏规则

1.  **设置**：选择玩家总人数，系统会自动分配卧底和平民（可选白板）。
2.  **发牌**：玩家依次点击屏幕查看自己的词语，记住后点击“隐藏并传递”交给下一位。
    *   **平民**：拿到相同的词语。
    *   **卧底**：拿到与平民相似但不同的词语。
    *   **白板**：没有词语（只显示“白板”）。
3.  **描述**：从第一位玩家开始，每人轮流用一句话描述自己的词语。
    *   不能直接说出词语。
    *   不能太直白，也不能太模糊。
4.  **投票**：描述一轮后，大家投票选出疑似卧底。得票最多者被淘汰。
    *   若平票，则平票者重新描述一轮并再次投票。
5.  **胜利条件**：
    *   **平民胜利**：所有卧底（和白板）被淘汰。
    *   **卧底胜利**：卧底（含白板）人数 >= 存活平民人数。

## 📝 词汇管理

项目包含一个强大的词汇管理系统。

*   **添加词汇**：直接编辑 `src/data/vocabulary.json`。
*   **更新图片**：运行 `node scripts/fetchImages.js`，脚本会自动为没有图片的词汇下载图片。

---

Enjoy the game! 🕵️‍♂️
